import { defineConfig } from 'vite'

// Vite côté navigateur n'a pas process.env, mais notre page injecte window.process.env.
// Ici, on peut définir quelques remplacements si besoin.
export default defineConfig({
  server: {
    port: 5173,
    open: false,
    // Autoriser les imports hors de test-web (ex: ../src)
    fs: {
      allow: ['..']
    }
  },
  resolve: {
    dedupe: ['react', 'react-dom']
  },
  define: {
    // Rien par défaut : on s'appuie sur l'injection dans index.html
  },
});
